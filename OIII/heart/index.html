<!DOCTYPE html>
<html>
<script src="jquery.js" type="text/javascript"></script>
<head>
    <title>Happy birthday to little xian nv</title>
</head>
<body style="background-color: whitesmoke">
<myheart style="display: none">you</myheart>
<!--
如果你看到这里啦，一定要去看哦，有我想对你说的话
https://music.163.com/#/playlist?id=6798518650
-->
<div id="myword" style="color: whitesmoke">1354629987</div>
<canvas id='cavs' onclick="window.open('https://music.163.com/#/playlist?id=6798518650','_self')"
        style='position:fixed; z-index:-1;'></canvas>
</body>
</html>
<script type="text/javascript">

    var canvas = document.getElementById("cavs");
    const WIDTH = window.innerWidth;
    const HEIGHT = window.innerHeight;
    canvas.setAttribute("width", WIDTH);
    canvas.setAttribute("height", HEIGHT);
    var context = canvas.getContext("2d");
    var start =
        {
            loves: [],
            DURATION: 30,
            begin: function () {
                this.createLove();
            },
            createLove: function () {
                for (var i = 0; i < WIDTH / 59; i++) {
                    var love = new Love();
                    this.loves.push(love);
                }
                setInterval(this.drawLove.bind(this), this.DURATION);
            },
            drawLove: function () {
                context.clearRect(0, 0, WIDTH, HEIGHT);
                for (var key in this.loves) {
                    this.loves[key].draw();
                }
            }
        }

    function Love() {
        var me = this;

        function rand() {
            me.maxScale = (Math.random() * 3.2 + 1.2) * WIDTH / 521;
            me.curScale = 1.2 * WIDTH / 521;
            me.x = Math.floor(Math.random() * WIDTH - 40);
            me.y = Math.floor(HEIGHT - Math.random() * 200);
            me.ColR = Math.floor(Math.random() * 50) + 205;
            me.ColG = Math.floor(Math.random() * 20) + 188;
            me.ColB = Math.floor(Math.random() * 20) + 163;
            me.alpha = Math.random() * 0.2 + 0.8;
            me.vector = Math.random() * 5 + 0.4;
        }

        (function () {
            rand();
        }());
        me.draw = function () {
            if (me.alpha < 0.01) rand();
            if (me.curScale < me.maxScale) me.curScale += 0.3;
            x = me.x;
            y = me.y;
            scale = me.curScale;
            context.fillStyle = "rgba(" + me.ColR + "," + me.ColG + "," + me.ColB + "," + me.alpha + ")";
            context.shadowBlur = 10;
            context.shadowColor = "rgb(" + me.ColR + "," + me.ColG + "," + me.ColB + ")";
            context.beginPath();
            context.bezierCurveTo(x + 2.5 * scale, y + 2.5 * scale, x + 2.0 * scale, y, x, y);
            context.bezierCurveTo(x - 3.0 * scale, y, x - 3.0 * scale, y + 3.5 * scale, x - 3.0 * scale, y + 3.5 * scale);
            context.bezierCurveTo(x - 3.0 * scale, y + 5.5 * scale, x - 1.0 * scale, y + 7.7 * scale, x + 2.5 * scale, y + 9.5 * scale);
            context.bezierCurveTo(x + 6.0 * scale, y + 7.7 * scale, x + 8.0 * scale, y + 5.5 * scale, x + 8.0 * scale, y + 3.5 * scale);
            context.bezierCurveTo(x + 8.0 * scale, y + 3.5 * scale, x + 8.0 * scale, y, x + 5.0 * scale, y);
            context.bezierCurveTo(x + 3.5 * scale, y, x + 2.5 * scale, y + 2.5 * scale, x + 2.5 * scale, y + 2.5 * scale);
            context.fill();
            context.closePath();
            me.y -= me.vector;
            me.alpha -= (me.vector / 2.9 * 3.5 / HEIGHT);
        }
    }

    window.onload = function () {
        start.begin();
    }
    var c = false
    $("#myword").on('click', function () {
        if (!c)
            $(this).text("1:55");
        else
            $(this).text("1354629987");
        c = !c;
    })
</script>
